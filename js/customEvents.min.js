!function(t){"object"==typeof module&&module.exports?module.exports=t:t(Highcharts)}(function(t){"use strict";var e,n,i,s,a=t.each,r=t.pick,o=t.wrap,l=t.merge,d=t.addEvent,c=t.isTouchDevice,u=(t.isObject,t.isNumber),p=t.getOptions().plotOptions,v=(t.Axis&&t.Axis.prototype,t.PlotLineOrBand&&t.PlotLineOrBand.prototype),h=t.seriesTypes,b=t.Series&&t.Series.prototype;v&&o(v,"render",function(t){var e=this.options&&this.options.events;return e&&(e=!1),t.apply(this,Array.prototype.slice.call(arguments,1))}),b&&o(b,"init",function(t,e,n){var i=e.options,s=i.plotOptions,a=i.plotOptions.series,r=l(a,s[this.type],n),o=r&&r.events,d=r&&r.point&&r.point.events;n.events={},n.point={events:{}},o&&(n.events={legendItemClick:o&&o.legendItemClick}),d&&(n.point.events={legendItemClick:d&&d.legendItemClick}),n.customEvents={series:o,point:d},t.apply(this,Array.prototype.slice.call(arguments,1))}),t.Chart.prototype.customEvent={getEventsProtoMethods:function(){return[[t.Tick,["addLabel"]],[t.Axis,["render"]],[t.Axis,["drawCrosshair"]],[t.Chart,["setTitle"]],[t.Legend,["renderItem"]],[t.PlotLineOrBand,["render"]],[t.Series,["drawPoints","drawDataLabels"]],[h.column,["drawPoints","drawDataLabels"]],[h.bar,["drawPoints","drawDataLabels"]],[h.pie,["drawPoints","drawDataLabels"]],[h.bubble,["drawPoints","drawDataLabels"]],[h.columnrange,["drawPoints","drawDataLabels"]],[h.arearange,["drawPoints","drawDataLabels"]],[h.areasplinerange,["drawPoints","drawDataLabels"]],[h.errorbar,["drawPoints","drawDataLabels"]],[h.boxplot,["drawPoints","drawDataLabels"]],[h.flags,["drawPoints","drawDataLabels"]],[h.heatmap,["drawPoints","drawDataLabels"]],[h.xrange,["drawPoints","drawDataLabels"]],[h.candlestick,["drawPoints","drawDataLabels"]],[h.sunburst,["drawPoints","drawDataLabels"]]]},init:function(){var e=this.getEventsProtoMethods();a(e,function(e){t.isArray(e)&&(i=e[0]&&e[0].prototype,s=e[1],i&&a(s,function(t){n.attach(i,t)}))})},attach:function(t,i){o(t,i,function(t,s){var a,o,l,d;if(o=t.apply(this,Array.prototype.slice.call(arguments,1)),!(a=n.eventElement[i].call(this,s)).events&&!a.eventsSubtitle&&!a.eventsPoint)return o;if(a.eventsPoint)for(l=a.elementPoint.length,d=0;d<l;d++)if(a.elementPoint[d]){var c=r(a.elementPoint[d].graphic,a.elementPoint[d]);c&&c!==e&&n.add(c,a.eventsPoint,a.elementPoint[d],a,!0)}return a.eventsSubtitle&&n.add(a.elementSubtitle,a.eventsSubtitle,a,this),a.eventsStackLabel&&n.add(a.elementStackLabel,a.eventsStackLabel,a,this),n.add(a.element,a.events,a,this),o})},add:function(t,e,n,i,s){var a=i.eventObject||n.eventObject,r=n.isSeries||i.isSeries;if(!t||!t.element)return!1;for(var o in e)!function(i){if(e.hasOwnProperty(i)&&!t[i]){if(c&&"dblclick"===i){var o=!1;d(t.element,"touchstart",function(t){if(t.stopPropagation(),t.preventDefault(),r&&!a.directTouch){var l=a.chart.pointer.normalize(t);n=a.searchPoint(l,1===a.kdDimensions)||n,t.point=n}return(a&&!s||u(a.value))&&(a.value=n.textStr,n=a),n&&n.textStr&&(n.value=n.textStr),n.drilldown&&n.doDrilldown(void 0,void 0,t),o?(clearTimeout(o),o=null,e[i].call(n,t)):o=setTimeout(function(){o=null,e.click.call(n,t)},300),!1})}else d(t.element,i,function(t){if(t.stopPropagation(),t.preventDefault(),r){var o=a.chart.pointer.normalize(t);n=t.target.point||a.searchPoint(o,1===a.kdDimensions)||n,t.point=n}return(a&&!s||a&&u(a.value))&&(a.value=n.textStr||a.value,n=a),n&&n.textStr&&(n.value=n.textStr),n.drilldown&&n.doDrilldown(void 0,void 0,t),e[i].call(n,t),!1});t[i]=function(){return!0}}}(o)},eventElement:{addLabel:function(){var t,e,n,i=this.parent,s=this.axis,a=s.options,r=a.labels&&a.labels.events,o=[this.label];if(i)for(var l=this;l;){if(n=l,"[object Array]"===Object.prototype.toString.call(n))for(t=l.length,e=0;e<t;e++)o.push(l[e].label);else o.push(l.label);l=l.parent}return{eventsPoint:r,elementPoint:o,eventObject:{axis:s,isFirst:this.isFirst,isLast:this.isLast,chart:s.chart,dateTimeLabelFormat:a.dateTimeLabelFormats,value:this.pos}}},setTitle:function(){return{events:this.options.title&&this.options.title.events,element:this.title,eventsSubtitle:this.options.subtitle&&this.options.subtitle.events,elementSubtitle:this.subtitle}},drawDataLabels:function(){var t=this.dataLabelsGroup;return{events:t?this.options.dataLabels.events:e,element:t?this.dataLabelsGroup:e}},render:function(){var t,e,n,i,s,a,r=this.options.stackLabels;return this.axisTitle&&(t=this.options.title.events,e=this.axisTitle),r&&r.enabled&&(n=r.events,i=this.stacks,s=r.events,a=this.stackTotalGroup),{events:t,element:e,eventsPoint:n,elementPoint:i,eventsStackLabel:s,elementStackLabel:a}},drawPoints:function(){var t,e=this.options,n=this.type,i=e.customEvents?e.customEvents.series:e.events,s=this.group,a=e.customEvents?e.customEvents.point:e.point.events;return t=p[n]&&p[n].marker&&!this.bubblePadding?[this.markerGroup]:this.points,this.kdTree||this.buildingKdTree||this.buildKDTree(),{events:i,element:s,eventsPoint:a,elementPoint:t,eventObject:this,isSeries:!0}},renderItem:function(t){return{events:this.options.itemEvents,element:t.legendGroup,eventObject:t}},drawCrosshair:function(){var t=this.options.crosshair;return{events:t&&t.events,element:this.cross}}}},(n=t.Chart.prototype.customEvent).init()});